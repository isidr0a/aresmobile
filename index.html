<!DOCTYPE html> 
<html>
<head>
<meta charset="utf-8">
<title>Aplic. Web de jQuery Mobile</title>
<link rel="stylesheet"  href="css/themes/default/jquery.mobile-1.3.2.min.css">
<link rel="stylesheet"  href="css/custom/style.css">
<script type="text/javascript" charset="utf-8" src="phonegap.js"></script>
<script src="jquery.js" type="text/javascript"></script>
<script src="jquery.mobile-1.3.2.min.js" type="text/javascript"></script>
<script src="aresmobile.js" type="text/javascript"></script>
</head> 
<body onLoad="onBodyLoad"> 

<div data-role="page" data-theme="a" id="page">
	<div data-role="header">
		<h1>Búsqueda</h1>
	</div>
	<div data-role="content">
        <div>
	        <form action="#" id="SearchMusicDown">
				<input type="search" placeholder="Buscar..." name="search" id="SearchMusicDownInput" value="" />
            </form>
            <ul data-role="listview" id="SearchMusicDownResult">
            </ul>
        </div>
	</div>
    <div data-role="footer" class="nav-glyphish-example" data-position="fixed">
        <div data-role="navbar" class="nav-glyphish-example" data-grid="c">
            <ul>
                <li><a href="#" id="search" data-icon="custom">Búsqueda</a></li>
                <li><a href="#" id="biblio" data-icon="custom">Biblioteca</a></li>
                <li><a href="#" id="repro" data-icon="custom">Reproductor</a></li>
                <li><a href="#" id="download" data-icon="custom">Descargas</a></li>
            </ul>
        </div>
    </div>
</div>

<div data-role="page" id="page2">
	<div data-role="header">
		<h1>Página dos</h1>
	</div>
	<div data-role="content" id="contenidoDispositivo">	
		Contenido		
	</div>
	<div data-role="footer">
		<h4>Pie de página</h4>
	</div>
</div>

<div data-role="page" id="page3">
	<div data-role="header">
		<h1>Página tres</h1>
	</div>
	<div data-role="content">	
		Contenido		
	</div>
	<div data-role="footer">
		<h4>Pie de página</h4>
	</div>
</div>

<div data-role="page" id="page4">
	<div data-role="header">
		<h1>Página cuatro</h1>
	</div>
	<div data-role="content">	
		Contenido		
	</div>
	<div data-role="footer">
		<h4>Pie de página</h4>
	</div>
</div>

</body>
<script type="text/javascript" charset="utf-8">



document.addEventListener("deviceready", onDeviceReady, false);
    function downloadFile(){
        window.requestFileSystem(
                     LocalFileSystem.PERSISTENT, 0, 
                     function onFileSystemSuccess(fileSystem) {
                     fileSystem.root.getFile(
                                 "dummy.html", {create: true, exclusive: false}, 
                                 function gotFileEntry(fileEntry){
                                 var sPath = fileEntry.fullPath.replace("dummy.html","");
                                 var fileTransfer = new FileTransfer();
                                 fileEntry.remove();
 
                                 fileTransfer.download(
                                           "http://www.w3.org/2011/web-apps-ws/papers/Nitobi.pdf",
                                           sPath + "theFile.pdf",
                                           function(theFile) {
                                           console.log("download complete: " + theFile.toURI());
                                           showLink(theFile.toURI());
                                           },
                                           function(error) {
                                           console.log("download error source " + error.source);
                                           console.log("download error target " + error.target);
                                           console.log("upload error code: " + error.code);
                                           }
                                           );
                                 }, 
                                 fail);
                     }, 
                     fail);
 
    }
 
    function showLink(url){
        alert(url);
        var divEl = document.getElementById("ready");
        var aElem = document.createElement("a");
        aElem.setAttribute("target", "_blank");
        aElem.setAttribute("href", url);
        aElem.appendChild(document.createTextNode("Ready! Click To Open."))
        divEl.appendChild(aElem);
 
    }
 
 
    function fail(evt) {
        console.log(evt.target.error.code);
    }
 
/* When this function is called, PhoneGap has been initialized and is ready to roll */
/* If you are supporting your own protocol, the var invokeString will contain any arguments to the app launch.
see http://iphonedevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html
for more details -jm */
function onDeviceReady()
{
// do your thing!
		aresMobile.initApp();
}

</script>
</html>
